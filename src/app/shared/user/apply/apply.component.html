<a
  href="javascript:void(0)"
  (click)="openForm()"
  class="fixed bottom-5 md:bottom-auto rounded-r-full md:rounded-r-none z-50 md:right-0 md:top-1/2 md:-translate-y-1/2 md:rounded-l-full bg-gradient-to-r from-violet-950 to-violet-800 hover:from-violet-800 hover:to-violet-950 text-white font-bold py-2 px-4 shadow-xl text-xs sm:text-sm uppercase tracking-wide border-2 border-white group transition-all duration-300"
  title="Apply Now"
>
  <span class="flex items-center merriweather-bold">
    <i class='bx bxs-edit-alt mr-1 sm:mr-2 text-base'></i>
    <span class="sm:inline">Apply Now</span>
    <span class="absolute w-full h-full animate-ping rounded-full bg-white opacity-20"></span>
  </span>
</a>


<!-- Form Modal -->
<div *ngIf="showForm" class="fixed backdrop-blur-md inset-0 bg-black/50 flex justify-center items-center z-50 px-4 sm:px-6 md:px-8" (click)="closeForm()">
  <div class="bg-[#2D1044] p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md md:max-w-2xl"  (click)="$event.stopPropagation()">
    <h2 class="text-2xl font-bold text-center mb-6 text-pink-300 merriweather-bold-italic">Apply Now</h2>
    <form [formGroup]="applyForm" (ngSubmit)="submitForm()" class="grid grid-cols-1 md:grid-cols-2 gap-4 text-amber-50">
      <div>
        <label class="block font-semibold mb-1">Name</label>
        <input formControlName="name" type="text" required class="w-full border border-gray-300 rounded-lg p-2">
        <div *ngIf="applyForm.get('name')?.invalid && applyForm.get('name')?.touched" class="text-red-500 text-sm">Name is required</div>
      </div>
      <div>
        <label class="block font-semibold mb-1">Phone Number</label>
        <input formControlName="phone" type="tel" class="w-full border border-gray-300 rounded-lg p-2">
        <div *ngIf="applyForm.get('phone')?.invalid && applyForm.get('phone')?.touched" class="text-red-500 text-sm">Enter a valid 10-digit phone number</div>
      </div>
      <div>
        <label class="block font-semibold mb-1">Email</label>
        <input formControlName="email" type="email" class="w-full border border-gray-300 rounded-lg p-2">
        <div *ngIf="applyForm.get('email')?.invalid && applyForm.get('email')?.touched" class="text-red-500 text-sm">Enter a valid email</div>
      </div>
      <div>
        <label class="block font-semibold mb-1">State</label>
        <select formControlName="state" (change)="onStateChange()" class="w-full border border-gray-300 rounded-lg p-2 ">
          <option value="" disabled>Select State</option>
          <option *ngFor="let state of states" [value]="state.state" class="text-white bg-violet-950/80">{{ state.state }}</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold mb-1">Interested Course</label>
        <input formControlName="course" type="text" class="w-full border border-gray-300 rounded-lg p-2">
        <div *ngIf="applyForm.get('course')?.invalid && applyForm.get('course')?.touched" class="text-red-500 text-sm">Course is required</div>
      </div>
      <div>
        <label class="block font-semibold mb-1">District</label>
        <select formControlName="district" class="w-full border border-gray-300 rounded-lg p-2">
          <option value="" disabled>Select District</option>
          <option *ngFor="let district of districts" [value]="district" class="text-white bg-violet-950/80">{{ district }}</option>
        </select>
      </div>
      <div>
        <label class="block font-semibold mb-1">Interested College</label>
        <input formControlName="college" type="text" class="w-full border border-gray-300 rounded-lg p-2">
        <div *ngIf="applyForm.get('college')?.invalid && applyForm.get('college')?.touched" class="text-red-500 text-sm">College is required</div>
      </div>
      <div class="col-span-1 md:col-span-2 flex justify-between items-center mt-4">
        <button type="submit" class="bg-violet-600 text-white font-bold py-2 px-4 rounded-lg w-full md:w-auto">Submit</button>
        <button type="button" (click)="closeForm()" class="text-gray-500 w-full md:w-auto">Cancel</button>
      </div>
    </form>
  </div>
</div>

